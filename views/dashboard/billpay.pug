// Billpay Index Template
html
  head
    title Billpay
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css")
    script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js")
    script(src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js")
    script(src="js/jquery.backstretch.min.js")

  body
    <script>$.backstretch("img/orange0.jpg");</script>
    nav(class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top main-nav")
      button(class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar")
        span(class="navbar-toggler-icon")
      div(class="mx-auto")
        a(class="navbar-brand" href="/") SFG Banking
      div(class="collapse navbar-collapse" id="collapsibleNavbar")
        ul(class="nav navbar-nav flex-fill justify-content-center")
          li(class="nav-item")
            a(class="nav-link" href="/dashboard") Dashboard
          li(class="nav-item")
            a(class="nav-link" href="../deposit") Make deposit
          li(class="nav-item")
            a(class="nav-link" href="./transfer") Transfer
          li(class="nav-item")
            a(class="nav-link" href="../settings") Setting
          li(class="nav-item")
            a(class="nav-link" href="/find-atm") Find nearest ATM
          li(class="nav-item")
            a(class="nav-link" href="../sign-out") Sign Out
    br

    <div class="container" style="margin-top:80px"></div>

    h1 Pay bill

    if !checkingAccount && !savingAccount &&! creditAccount
      p Pay bill function is unavailable due to unavailable account information.
      p Please open a new account or contact for help. 
        
    else 
      h2 Dear customer, you can pay your bill here. 

      <form method="post">
          p Please enter the bill number:
          <input type="text" name="billnumber"><br>
          br

          p Please choose a account you want to pay the bill with
          if checkingAccount
            input(type="radio" name="paywith" value=`${checkingAccount._id}` checked) 
            |  Checking Account
            br
            p Balance: $#{checkingAccount.balance} 
          
          if savingAccount
            input(type="radio" name="paywith" value=`${savingAccount._id}`)
            |  Saving Account
            br
            p Balance: $#{savingAccount.balance}
          
          if creditAccount
            input(type="radio" name="paywith" value=`${creditAccount._id}`)
            |  Credit Account
            br
            p Balance: $#{creditAccount.balance}
            <br>

          p Please enter the amount:
          <input type="number" name="payamount" min="1"><br>
          br

          p Please add a note:
          <input type="text" name="paynote" ><br>
          <br>
          <input type="hidden" name="type" value="instant">
          <input type="submit" value="Submit">
          <input type="reset">
      </form>

      br
      br
      br
      h2 Dear customer, you can schedule a payment here. 

      <form method="post">
          p Please enter the bill number:
          <input type="text" name="billnumber"><br>
          br
          p Please choose a account you want to pay the bill with
          
          if checkingAccount
            input(type="radio" name="paywith" value=`${checkingAccount._id}` checked) 
            |  Checking Account
            br
            p Balance: $#{checkingAccount.balance} 
          
          if savingAccount
            input(type="radio" name="paywith" value=`${savingAccount._id}`)
            |  Saving Account
            br
            p Balance: $#{savingAccount.balance}
          
          if creditAccount
            input(type="radio" name="paywith" value=`${creditAccount._id}`)
            |  Credit Account
            br
            p Balance: $#{creditAccount.balance}
            <br>

          p Please enter the amount:
          <input type="number" name="payamount" min="1"><br>
          br

          p Please enter the month:
          <input type="number" name="month" min="1" max="12"><br>
          br
          p Please enter the day:
          <input type="number" name="day" min="1" max="31"><br>
          br
          p Please enter the year:
          input(type="number" name="year" min=`${(new Date(Date.now())).getFullYear()}`)
          <br>
          br

          p Please add a note:
          <input type="text" name="paynote" ><br>
          <br>
          <input type="hidden" name="type" value="scheduled">
          <input type="submit" value="Submit">
          <input type="reset">
      </form>


    br
    br
    br

    p
      a(href="/dashboard") Return to Dashboard
    
      br

    p
      a(href="../sign-out") Sign Out

    